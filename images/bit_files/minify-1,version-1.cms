var __DEV_ENV__=(["toispadev4.indiatimes.com","toidev.indiatimes.com","spmdev.indiatimes.com","spmdev.timesofindia.com"].indexOf(document.location.hostname)>-1)?true:false;var eventCategory={home:"Home",etbriefs:"Brief","articleshow/":"Articleshow","web-series/":"Webseries","photostory/":"Photostory",videos:"Video_List","movie-review/":"Movie_Review","movieshow/":"MovieListing_Show","latest-new-movies/":"MovieListing_List","showtimes/":"Showtime","awards/":"Awards","previews/":"Preview","theatres-list":"Theater_List","videoshow/":"Video_Show","seasonreview/":"Season_Review","seriesreview/":"Series_Review","episodereview/":"Episode_Review","webseriesshow/":"Series_Review","topic/":"Topic_Celebrity","ottmoviereview/":"OTTMovie_Review"};
var defaultCategory="ArticlesList";var categoryArray=Object.keys(eventCategory);var domainsArray=["https://timesofindia.indiatimes.com/etimes","https://toidev.indiatimes.com/etimes","https://toidev.indiatimes.com","https://timesofindia.indiatimes.com","https://toispadev4.indiatimes.com"];var grx_module=(function(){var c,b,a;a={grx_projectcode:(__DEV_ENV__)?"g3bf3e414":"g7af6dd9d",grx_subproject:"etimes",grx_subproject_toi:"toi",grx_applicationServerKey:"BAEr8bO2Cyl8t2PmXW686snggFFooIy0DnRBBp0hxgptp7MBCXRJaMTdIzmqL3t1rB0BqKauxyyv94PADuUlAsw",swjs_path:"/grxsw.cms",swjs_path_react_dev:"/sw.js",ga_enable:true,utm_enable:true,property:"ETimes",property_toi:"TOI",platform:"Web",defaultIcon:"https://timesofindia.indiatimes.com/photo/75555693.cms",defaultIconToi:"https://timesofindia.indiatimes.com/photo/64095869.cms",defaultTitle:"ETimes",defaultTitleToi:"TOI",defaultMessage:"Thank you for subscribing to ETimes notifications.",defaultMessageToi:"Thank you for subscribing to TOI notifications.",defaultUrl:"https://timesofindia.indiatimes.com/etimes",defaultUrlToi:"https://timesofindia.indiatimes.com",utmSource:"browser_notification",utmMedium:"",utmCampaign:"browsernotification",popup1_ga_cat:"PushBrowserSubscription",popup1_ga_act:"Push_Popup_View",popup1_ga_label_viewed:"Push_Popup_Viewed",popup1_ga_label_notnow:"Push_Popup_Notnow",popup1_ga_label_allow:"Push_Popup_Allow",popup2_ga_cat:"PushBrowserSubscription",popup2_ga_act:"Push_Browser_View",popup2_ga_label_viewed:"Push_Browser_Viewed",popup2_ga_label_block:"Push_Browser_Block",popup2_ga_label_ignore:"Push_Browser_Ignore",popup2_ga_label_allow:"Push_Browser_Allow",location_api:"https://geoapi.indiatimes.com/?cb=1",location_api_hit_frequency:30};
c={_loadGrxScript:function(){(function(j,i,l,d,e,f,k){j[e]=j[e]||function(){(j[e].q=j[e].q||[]).push(arguments)},j[e].l=1*new Date();j[e]=j[e]||{},f=i.createElement(l),k=i.getElementsByTagName(l)[0];f.async=1;f.src=d;k.parentNode.insertBefore(f,k)})(window,document,"script","https://static.growthrx.in/js/v2/web-sdk.js","grx")},_appendUTMs:function(d){if(!a.utm_enable){return d}var f="utm_source="+a.utmSource+"&utm_medium="+((a.utmMedium.length)?a.utmMedium:ntfc_module.getBrowser())+"&utm_campaign="+a.utmCampaign,e=(d.indexOf("?")!=-1)?"&":"?";
return(d+e+f)},_initNtfcConfig:function(f){if(typeof grx!="undefined"){if(!f){grx("init",a.grx_projectcode)}grx("config","applicationServerKey",a.grx_applicationServerKey);grx("registerPlugin","subscribeToken");if(a.utm_enable){grx("config","notification_params",{utm_source:a.utmSource,utm_medium:((a.utmMedium.length)?a.utmMedium:ntfc_module.getBrowser()),utm_campaign:a.utmCampaign})}var d=grx_module.appendUTMs(grx_module.getDefaultUrl());grx("registerPlugin","showNotificationWelcomeMessage",{title:grx_module.getDefaultTitle(),content:grx_module.getDefaultMessage(),icon:grx_module.getDefaultIcon,url:d});
grx("addListener","notification_permission_allowed",function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup2_ga_cat,grx_module.getconfig().popup2_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup2_ga_label_allow);grx("set","location",common_utility.getLocation())});grx("addListener","notification_permission_blocked",function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup2_ga_cat,grx_module.getconfig().popup2_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup2_ga_label_block)
});grx("addListener","notification_permission_closed",function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup2_ga_cat,grx_module.getconfig().popup2_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup2_ga_label_ignore)});var e=(window.location.href.indexOf("toispadev")>=0)?a.swjs_path_react_dev:a.swjs_path;grx("config","service_worker",e);grx("set","subProject",grx_module.getSubProject())}},_isEtimes:function(d){return((d.indexOf("/recipes")>0||d.indexOf("/etbriefs")>0||d.indexOf("/entertainment")>0||d.indexOf("/etimes")>0||d.indexOf("/tv")>0||d.indexOf("/life-style")>0||d.indexOf("/lifestyle")>0||d.indexOf("photogallery")>0))?true:false
},_getProperty:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().property:grx_module.getconfig().property_toi},_getSubProject:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().grx_subproject:grx_module.getconfig().grx_subproject_toi},_getDefaultIcon:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().defaultIcon:grx_module.getconfig().defaultIconToi},_getDefaultTitle:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().defaultTitle:grx_module.getconfig().defaultTitleToi
},_getDefaultMessage:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().defaultMessage:grx_module.getconfig().defaultMessageToi},_getDefaultUrl:function(){return(grx_module.isEtimes(window.location.href))?grx_module.getconfig().defaultUrl:grx_module.getconfig().defaultUrlToi},_getSectionFromUrl:function(d){var d=d.replace(".cms","");var f="toi";if(d.indexOf("https")>=0){var d=(d.indexOf("?")>=0)?d.split("?")[0]:d;var g=d.replace("http://","").replace("https://","").split(/[/?#]/)[0];
var e="https://"+g+"/";f=d.replace(e,"").split("/")[0]}else{if(d.indexOf("/")==0){f=d.split("/")[1]}else{f=d.split("/")[0]}}return(f&&typeof f!="undefined")?f:"toi"},_getSubSectionFromUrl:function(d){var d=d.replace(".cms","");var e="home";if(d.indexOf("https")>=0){var d=(d.indexOf("?")>=0)?d.split("?")[0]:d;var g=d.replace("http://","").replace("https://","").split(/[/?#]/)[0];var f="https://"+g+"/";e=d.replace(f,"").split("/")[1]}else{if(d.indexOf("/")==0){e=d.split("/")[2]}else{e=d.split("/")[1]
}}return(e&&typeof e!="undefined")?e:"home"},_hitGrxPageView:function(d){if(typeof(grx)==="function"){var f=common_utility.getLocation();f=(typeof f!="undefined")?f:"NEWDELHI";var g=common_utility.getScreenType();var e=common_utility.getNetwork();grx("track","page_view",{url:d,subProject:grx_module.getSubProject(),section:grx_module.getSectionFromUrl(d),subSection:grx_module.getSubSectionFromUrl(d),location:f,screen_type:g,network:e})}}};b={initNtfcConfig:function(d){c._initNtfcConfig(d)},appendUTMs:function(d){return c._appendUTMs(d)
},loadGrxScript:function(){c._loadGrxScript()},getconfig:function(){return a},getSectionFromUrl:function(d){return c._getSectionFromUrl(d)},getSubSectionFromUrl:function(d){return c._getSubSectionFromUrl(d)},hitGrxPageView:function(d){c._hitGrxPageView(d)},isEtimes:function(d){return c._isEtimes(d)},getProperty:function(){return c._getProperty()},getSubProject:function(){return c._getSubProject()},getDefaultIcon:function(){return c._getDefaultIcon()},getDefaultTitle:function(){return c._getDefaultTitle()
},getDefaultMessage:function(){return c._getDefaultMessage()},getDefaultUrl:function(){return c._getDefaultUrl()}};return b}());var ntfc_cookie=(function(){var b,a;b={_Set_Ckie:function(d,i,e,k,f,c){try{var h=new Date();h.setTime(h.getTime());if(e){e=e*1000*60*60*24}var j=new Date(h.getTime()+(e));document.cookie=d+"="+escape(i)+((e)?";expires="+j.toGMTString():"")+((k)?";path="+k:"")+((f)?";domain="+f:"")+((c)?";secure":"")}catch(g){}},_Read_Ckie:function(c){var g=c+"=";var e=document.cookie.split(";");
for(var d=0;d<e.length;d++){var f=e[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(g)==0){return f.substring(g.length,f.length)}}return undefined},_Del_Ckie:function(c,f,e){try{if(readCookieVal(c)){document.cookie=c+"="+((f)?";path="+f:"")+((e)?";domain="+e:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}}catch(d){}},_splitHostname:function(){var c={};var d=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$");var e=d.exec(window.location.hostname);c.domain=e[1];c.type=e[2];c.subdomain=window.location.hostname.replace(c.domain+"."+c.type,"").slice(0,-1);
return c}};a={set_cookie:function(d,f,c,h,e,g){b._Set_Ckie(d,f,c,h,"."+b._splitHostname().domain+".com",g)},get_cookie:function(c){return b._Read_Ckie(c)},del_cookie:function(c,e,d){b._Del_Ckie(c,e,"."+b._splitHostname().domain)}};return a}());var common_utility=(function(){var b,a;b={_checkGdprAndCall:function(g,d,c){try{window.TimesGDPR=window.parent.TimesGDPR}catch(f){}if(window.TimesGDPR&&TimesGDPR.common.consentModule.gdprCallback){TimesGDPR.common.consentModule.gdprCallback(function(e){if(e&&e.isEUuser&&typeof d=="function"){d()
}else{if(!e.isEUuser&&typeof g=="function"){g()}}})}else{if(typeof d=="function"){d()}}},_getMobileOperatingSystem:function(){var c=navigator.userAgent||navigator.vendor||window.opera;if(/windows phone/i.test(c)){return"Windows Phone"}if(/android/i.test(c)){return"Android"}if(/iPad|iPhone|iPod/.test(c)&&!window.MSStream){return"iOS"}return"unknown"},_isAndroid:function(){return(common_utility.getMobileOperatingSystem().toLowerCase().trim()=="android")},_isIOS:function(){return(common_utility.getMobileOperatingSystem().toLowerCase().trim()=="ios")
},_loadDynamicJS:function(d){var c=document.createElement("script");c.type="application/javascript";c.src=d;document.body.appendChild(c)},_loadDynamicCSS:function(d){var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",d);document.getElementsByTagName("head")[0].appendChild(c)},_ajaxGetSync:function(c){return $.ajax({type:"GET",async:false,url:c})},_hitLocationApi:function(c){if(typeof window.geoinfo!="undefined"){return window.geoinfo.city
}else{common_utility.loadDynamicJS(grx_module.getconfig().location_api);setTimeout(function(){return(window.geoinfo)?window.geoinfo.city:"NEWDELHI"},100)}},_addDays:function(c,d){return new Date(c.getTime()+d*24*60*60*1000)},_getLocation:function(){var c="--";c=common_utility.hitLocationApi();return c},_getScreenType:function(){var c="--";if(domainsArray.includes(window.location.href)){c=eventCategory.home}else{categoryArray.forEach(function(d){if(window.location.pathname.match(d)){c=eventCategory[d]
}})}c=(c!="--")?c:defaultCategory;return c},_getNetwork:function(){var c="--";c=(typeof navigator!="undefined"&&typeof navigator.connection!="undefined"&&typeof navigator.connection.effectiveType!="undefined")?navigator.connection.effectiveType:c;return c}};a={checkGdprAndCall:function(e,d,c){b._checkGdprAndCall(e,d,c)},getMobileOperatingSystem:function(){return b._getMobileOperatingSystem()},isAndroid:function(){return b._isAndroid()},isIOS:function(){return b._isIOS()},loadDynamicJS:function(c){b._loadDynamicJS(c)
},loadDynamicCSS:function(c){b._loadDynamicCSS(c)},ajaxGetSync:function(c){return b._ajaxGetSync(c)},hitLocationApi:function(c){return b._hitLocationApi(c)},addDays:function(c,d){return b._addDays(c,d)},getLocation:function(){return b._getLocation()},getScreenType:function(){return b._getScreenType()},getNetwork:function(){return b._getNetwork()}};return a}());var ntfc_module=(function(){var c,b,a;a={ntfc_close_frequency:3,ntfc_disable_pages:["toierrorfound.cms"],ntfc_dom:'<div class="ntfc_overlay"></div><div class="ntfc_popup"> <div class="ntfc_logo"> <img src="https://timesofindia.indiatimes.com/photo/75621173.cms" /> </div> <div class="ntfc_content"> <h4>Stay updated with the latest Entertainment &amp; Lifestyle News</h4> <span class="ntfc_buttongroup"> <a href="javascript://" class="ntfc_dactive" data-plugin="ntfc-close">Remind me later</a> <a href="javascript://" class="ntfc_active" data-plugin="ntfc-enable">Enable</a> </span> <p class="tnc">You can manage them anytime using browser settings</p> </div> </div>',ntfc_dom_toi:'<div class="ntfc_overlay"></div><div class="ntfc_popup"> <div class="ntfc_logo"> <img src="https://timesofindia.indiatimes.com/photo/54312174.cms" /> </div> <div class="ntfc_content"> <h4>The latest news and updates...</h4> <p>Get instant notifications as they happen</p> <span class="ntfc_buttongroup"> <a href="javascript://" class="ntfc_dactive ntfc_dactive_toi" data-plugin="ntfc-close">Not Now</a> <a href="javascript://" class="ntfc_active ntfc_active_toi" data-plugin="ntfc-enable">Enable</a> </span> <p class="tnc">You can manage them anytime using browser settings</p> </div> </div>',jquery_path:"https://timesofindia.indiatimes.com/videos/jquery_1_11_0_min/version-13,minify-1.cms",ntfc_css_path:"https://timesofindia.indiatimes.com/notificationcss/version-1,minify-1.cms"};
c={_isChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},_isMozilla:function(){return/firefox/i.test(navigator.userAgent)},_isSafari:function(){if(common_utility.isIOS()){var e=window.navigator.userAgent;var f=!!e.match(/iPad/i)||!!e.match(/iPhone/i);var d=!!e.match(/WebKit/i);var g=f&&d&&!e.match(/CriOS/i);return g}else{return(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))}},_close:function(){document.querySelector(".ntfc_overlay").remove();
document.querySelector(".ntfc_popup").remove();ntfc_cookie.set_cookie("_grxntfcskip","true",a.ntfc_close_frequency,"/","",false)},_allow:function(){document.querySelector(".ntfc_overlay").remove();document.querySelector(".ntfc_popup").remove();ntfc_cookie.set_cookie("_grxntfcproceed","true",a.ntfc_close_frequency,"/","",false)},_triggerGAEvent:function(e,f,d){if(typeof ga!="undefined"&&grx_module.getconfig().ga_enable){ga("send","event",e,f,d,{nonInteraction:1})}},_getBrowser:function(){if(ntfc_module.isChrome()){return"chrome"
}else{if(ntfc_module.isMozilla()){return"mozilla"}else{if(ntfc_module.isSafari()){return"safari"}}}return"unknown"},_events:function(){document.querySelector('[data-plugin="ntfc-close"]').addEventListener("click",function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup1_ga_cat,grx_module.getconfig().popup1_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup1_ga_label_notnow);ntfc_module.close();return false});document.querySelector('[data-plugin="ntfc-enable"]').addEventListener("click",function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup1_ga_cat,grx_module.getconfig().popup1_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup1_ga_label_allow);
ntfc_module.allow();common_utility.checkGdprAndCall(function(){if(typeof ntfc_module!="undefined"&&ntfc_module){ntfc_module.initBrowserPopup()}return false},function(){window.addEventListener("load",function(){if("serviceWorker" in navigator){try{navigator.serviceWorker.getRegistrations().then(function(f){for(var e in f){f.hasOwnProperty("registration")&&e.unregister()}})}catch(d){}}})});return false})},_registerSW:function(){ntfc_module.triggerGAEvent(grx_module.getconfig().popup2_ga_cat,grx_module.getconfig().popup2_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup2_ga_label_viewed);
grx("enablePush")},_initBrowserPopup:function(){if(typeof grx!="undefined"){ntfc_module.registerSW()}},_callInhousePopup:function(){common_utility.loadDynamicCSS(a.ntfc_css_path);if(typeof grx!="undefined"){if(typeof Notification==="function"&&ntfc_module.valid()&&!ntfc_module.isBlocked()&&("serviceWorker" in navigator)){if(Notification.permission==="default"){setTimeout(function(){var d=document.createElement("div");d.innerHTML=(grx_module.isEtimes(window.location.href))?a.ntfc_dom:a.ntfc_dom_toi;
document.body.appendChild(d);ntfc_module.triggerGAEvent(grx_module.getconfig().popup1_ga_cat,grx_module.getconfig().popup1_ga_act+"_"+grx_module.getProperty()+"_"+grx_module.getconfig().platform,grx_module.getconfig().popup1_ga_label_viewed);ntfc_module.events()},5000)}}else{console.log("Browser doesn't support Notification")}}else{grx_module.loadGrxScript();setTimeout(function(){ntfc_module.init()},1000)}},_init:function(){if(window.TimesGDPR&&TimesGDPR.common.consentModule.gdprCallback){TimesGDPR.common.consentModule.gdprCallback(function(d){if(!d.isEUuser){ntfc_module.callInhousePopup()
}})}},_isBlocked:function(){for(idx=0;idx<a.ntfc_disable_pages.length;idx++){if(window.location.href.indexOf(a.ntfc_disable_pages[idx])!=-1){return true}}return false},_isFrmAppYes:function(){if(window.location.href.indexOf("frmapp")!=-1){return true}return false},_valid:function(){if((ntfc_module.isChrome()||ntfc_module.isMozilla()||ntfc_module.isSafari())&&!ntfc_cookie.get_cookie("_grxntfcproceed")&&!ntfc_cookie.get_cookie("_grxntfcskip")&&!ntfc_cookie.get_cookie("_grxntfcblock")&&!ntfc_cookie.get_cookie("_grxntfcallow")&&!ntfc_module.isFrmAppYes()){if(typeof tempname!="undefined"&&tempname=="photostory"&&typeof isEtimesProperty!="undefined"&&isEtimesProperty=="no"){return false
}if(typeof tname!="undefined"&&tname=="entphotostory"&&typeof isEtimesProperty!="undefined"&&isEtimesProperty=="no"){return false}return true}return false}};b={isChrome:function(){return c._isChrome()},isMozilla:function(){return c._isMozilla()},isSafari:function(){return c._isSafari()},close:function(){c._close()},allow:function(){c._allow()},triggerGAEvent:function(e,f,d){c._triggerGAEvent(e,f,d)},getBrowser:function(){return c._getBrowser()},events:function(){c._events()},registerSW:function(){c._registerSW()
},initBrowserPopup:function(){c._initBrowserPopup()},callInhousePopup:function(){c._callInhousePopup()},init:function(){c._init()},isBlocked:function(){return c._isBlocked()},isFrmAppYes:function(){return c._isFrmAppYes()},valid:function(){return c._valid()}};return b}());common_utility.hitLocationApi();